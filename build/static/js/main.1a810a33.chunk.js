(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{22:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(11),c=r(7),s=r(4),i=r(5),o=r(3),u=r(1),d=function(e){var t=e.tasks,r=e.setTasks,a=Object(n.useState)(""),d=Object(o.a)(a,2),b=d[0],l=d[1],j=Object(n.useRef)(null),x=function(){var e=Object(i.a)(Object(s.a)().mark((function e(n){var a,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://keen-quick-airport.glitch.me/tasks",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({text:n})});case 2:return a=e.sent,e.next=5,a.json();case 5:i=e.sent,r([].concat(Object(c.a)(t),[i]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("form",{className:"bg-gray-900 container mx-auto flex justify-between p-10",onSubmit:function(e){e.preventDefault(),j.current.blur(),x(b),l("")},children:[Object(u.jsx)("input",{ref:j,value:b,onChange:function(e){return l(e.target.value)},type:"text",required:!0,placeholder:"What things to do?",className:"bg-transparent outline-none border-b-2 py-2 px-5 focus:border-teal-600"}),Object(u.jsx)("button",{type:"submit",className:"bg-teal-900/30 py-2 px-5 border-2 border-teal-500 rounded text-teal-500 hover:bg-teal-500 hover:text-gray-900 duration-300 ",children:"Add task"})]})},b=function(){return Object(u.jsx)("footer",{className:"bg-gray-900 container mx-auto text-center p-10 text-sm text-teal-600 border-t border-dashed border-teal-900",children:Object(u.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Todo App. All rights reserved."]})})},l=r(12),j=function(){return Object(u.jsx)("header",{className:"header bg-gray-900 p-10 container mx-auto border-b border-dashed border-teal-900 rounded-tl-xl rounded-tr-xl",children:Object(u.jsxs)("h2",{className:"uppercase font-semibold text-teal-500 tracking-wider flex gap-2 items-center",children:[Object(u.jsx)("span",{children:Object(u.jsx)(l.a,{})}),Object(u.jsx)("span",{children:"Todo App"})]})})},x=r(9),p=function(e){var t=e.task,r=e.handleEditSubmitter,a=e.editedText,c=e.setEditedText,s=Object(n.useContext)(f),i=Object(n.useContext)(O);return Object(u.jsxs)("div",{className:"task-item flex justify-between items-center bg-gray-800 p-5 rounded hover:bg-gradient-to-r hover:from-teal-600 hover:to-gray-800 group",children:[Object(u.jsxs)("div",{className:"task-item-left flex gap-3",children:[Object(u.jsx)("span",{children:Object(u.jsx)("input",{type:"checkbox",className:"accent-teal-400"})}),t.isEditable&&Object(u.jsx)("form",{onSubmit:function(e){return r(e,t.id)},children:Object(u.jsx)("input",{className:"bg-transparent outline-none border-b-2 pb-1 border-gray-500 focus:border-teal-500",type:"text",required:!0,value:a,onChange:function(e){return c(e.target.value)}})}),!t.isEditable&&Object(u.jsx)("p",{className:"group-hover:text-teal-400",children:t.text})]}),Object(u.jsxs)("div",{className:"task-item-right flex gap-3",children:[Object(u.jsx)("button",{onClick:function(){return i(t.id)},children:Object(u.jsx)(x.a,{className:"text-gray-500 hover:text-teal-500 cursor-pointer duration-300"})}),Object(u.jsx)("button",{onClick:function(){return s(t.id)},children:Object(u.jsx)(x.b,{className:"text-gray-500 hover:text-red-500 cursor-pointer duration-300"})})]})]})},h=function(e){var t=e.tasks,r=e.error,n=e.loading,a=e.handleEditSubmitter,c=e.editedText,s=e.setEditedText;return Object(u.jsxs)("div",{className:"flex flex-col gap-3 bg-gray-900 container mx-auto p-10",children:[n?Object(u.jsx)("p",{className:"text-center",children:r||"Loading..."}):0===t.length&&Object(u.jsx)("p",{className:"text-center",children:"No task to show"}),t.map((function(e){return Object(u.jsx)(p,{task:e,handleEditSubmitter:a,editedText:c,setEditedText:s},e.id)}))]})},f=Object(n.createContext)(),O=Object(n.createContext)(),m=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),r=t[0],a=t[1],l=Object(n.useState)(!0),x=Object(o.a)(l,2),p=x[0],m=x[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),k=v[0],y=v[1],N=Object(n.useState)(""),w=Object(o.a)(N,2),E=w[0],S=w[1],T=Object(n.useState)(!0),C=Object(o.a)(T,2),q=C[0],A=C[1];Object(n.useEffect)((function(){D()}),[]);var D=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){var t,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://keen-quick-airport.glitch.me/tasks");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Something went wrong!");case 6:return e.next=8,t.json();case 8:r=e.sent,a(r),m(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),y(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://keen-quick-airport.glitch.me/tasks/".concat(t),{method:"DELETE",headers:{"Content-type":"application/json"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(Object(s.a)().mark((function e(t,r){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://keen-quick-airport.glitch.me/tasks/".concat(t),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"wrapper bg-gradient-to-t from-gray-900 to-teal-800 min-h-screen text-xl text-gray-100 flex flex-col py-10",children:Object(u.jsx)(f.Provider,{value:function(e){J(e),a(r.filter((function(t){return e!==t.id})))},children:Object(u.jsxs)(O.Provider,{value:function(e){var t=r.filter((function(t){return e===t.id})),n=Object(o.a)(t,1)[0];n.isEditable=!0,S(n.text),a(Object(c.a)(r)),A(!1),r.filter((function(t){return t.id!==e})).map((function(e){return e.isEditable=!1}))},children:[Object(u.jsx)(j,{}),Object(u.jsx)(d,{tasks:r,setTasks:a}),Object(u.jsx)(h,{tasks:r,error:k,loading:p,handleEditSubmitter:function(e,t){e.preventDefault(),A(!q);var n={text:E,id:t};P(t,n);var s=r.filter((function(e){return t===e.id})),i=Object(o.a)(s,1)[0];i.isEditable=!1,i.text=n.text,a(Object(c.a)(r))},editedText:E,setEditedText:S}),Object(u.jsx)(b,{})]})})})},g=document.getElementById("root");Object(a.createRoot)(g).render(Object(u.jsx)(n.StrictMode,{children:Object(u.jsx)(m,{})}))}},[[22,1,2]]]);
//# sourceMappingURL=main.1a810a33.chunk.js.map